<template>
    <div>

        <!-- 過場動畫 -->
        <section>

        <div class="curtain"></div>

        <div class="rightCurtain1"></div>
        <div class="rightCurtain2"></div>

        </section>
        <!--  -->

        <!-- title -->
        <section>

           <div class="row marginpaddingFix">
               <div class="col marginpaddingFix">
                    <div class="aboutTitle preFadein d-flex justify-content-center align-items-center">
                        <div>
                        <h2 class="h1 text-primary text-center">我 們 是 誰？</h2>
                        <img src="@/assets/img/aboutus.svg" alt="">
                        </div>
                    </div>
               </div>
           </div>

        </section>
        <!--  -->

       <section>

           <div class="aboutContent container">

           <div class="row timeLine aboutContentItem flex-row-reverse preFadein">

               <div class="col-lg-6">
                    <h3 class="h2 text-primary">
                        2015/02 - 緣起
                    </h3>
                    <p class="h6 lh-global text-secondary">
                        聯合創辦人之一的<span class="text-primary">阿明</span>原本是一個普通的攝影愛好者，起初完全沒有想過有一天會踏入賣攝影器材的行業，但在某次攝影旅行中認識了另一位聯合創辦人<span class="text-primary">阿傑</span>，在這段攝影旅行中阿明從阿傑的口中感受到了阿傑對於攝影的無比熱愛，於是志趣相投的兩人正式建立了聯繫並為未來的創業之路奠定了基礎。
                    </p>
               </div>
               <div class="col-lg-6 text-center  d-flex justify-content-center align-items-center">
                       <img src="@/assets/img/about1.svg" alt="">
               </div>

           </div>

            <div class="row timeLine aboutContentItem preFadeinTop">

               <div class="col-lg-6">
                    <h3 class="h2 text-primary text-right">
                        2019/01 - 計畫啟動
                    </h3>
                    <p class="h6 text-secondary lh-global">
                        2019年初阿明遭到了資遣，於是阿明找了阿傑訴苦，此時的阿傑在某個製造光學鏡片的公司任職光學研發工程師，幾杯黃湯下肚後阿傑也開始抱怨起了公司產品銷售說道:「我們的濾鏡明明也不輸歐洲大廠並且價錢也只要同等級的2/3，為什麼就是沒人要買 ?」此時剛遭到資遣的阿明以開玩笑的口吻說道 <span class="text-primary">不然我們一起創業來賣阿</span>，就因為這句阿明的玩笑話讓阿傑決定將工作辭掉轉身投入到販售攝影器材的行業，接著兩人在當晚促膝長談了之後決定開始了他們的創業計畫。
                    </p>
               </div>
               <div class="col-lg-6">
                   <div class="text-center  d-flex justify-content-center align-items-center">
                       <img src="@/assets/img/about2.svg" alt="">
                   </div>
               </div>

           </div>

            <div class="row timeLine aboutContentItem flex-row-reverse preFadeinTop">

               <div class="col-lg-6">
                    <h3 class="h2 text-primary">
                        2019/04 - 品牌成立
                    </h3>
                    <p class="h6 lh-global text-secondary">
                        決定好要創業的兩人首先要決定的事情就是工作室的場所以及資金來源，資金來源透透過兩人本身的存款以及各方親友的支持，最終兩人定址於台北市中山區的一座巷內並且開始招募員工，就這樣<span class="text-primary">拍謝</span>這間公司就此正式成立了。
                    </p>
               </div>
               <div class="col-lg-6">
                   <div class="text-center d-flex justify-content-center align-items-center">
                       <img src="@/assets/img/about3.svg" alt="">
                   </div>
               </div>

           </div>

           <div class="row timeLine aboutContentItem preFadeinTop">

               <div class="col-lg-6">
                    <h3 class="h2 text-primary text-right">
                        2020/10 - 步入正軌
                    </h3>
                    <p class="h6 text-secondary lh-global">
                        凡事起頭難，兩人在第一時間遇到的問題除了商品代理權取得之外還有創業資金只夠應付半年左右的人事以及租金開銷，在這樣的情況下阿明以及阿傑依舊維持著分工合作，阿明用著以往在業務銷售工作上所學的社交能力去取得融資以及取得影像設備製造商的代理權，而阿傑則用他光學工程師的知識不斷的銷售一個又一個的光學鏡片以及影像設備，於是最後在兩人不斷的努力之下情況也開始好轉起來。
                    </p>
               </div>
               <div class="col-lg-6">
                   <div class="text-center d-flex justify-content-center align-items-center">
                       <img src="@/assets/img/about4.svg" alt="">
                   </div>
               </div>

           </div>

           </div>

       </section>

        <section>
            <div class="px-5 mb-5 px-5 preFadein">
                <div class="d-flex justify-content-center mb-5">
                    <h2 class="h1 text-primary">聯 絡 我 們</h2>
                </div>
                <div class="row">

                    <div class="col-md-6">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3614.148564952403!2d121.53281808512104!3d25.062953260335743!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3442a959a9ce781b%3A0xb0c2ef0be716c094!2z6KGM5aSp5a6u!5e0!3m2!1szh-TW!2stw!4v1609195474781!5m2!1szh-TW!2stw" width="100%" height="100%" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
                    </div>

                    <div class="col-md-6 bg-light p-3">

                        <validation-observer v-slot="{ invalid }">
                            <form @submit.prevent="sendMessage" :class="{'pageDisabled' : messageAreaDisabled}">

                            <validation-provider rules="required" v-slot="{ errors , classes }">
                            <div class="form-group">
                            <label class="mb-2 text-secondary" for="name">姓名 <span class="text-danger">*</span></label>
                            <input id="name" type="text" name="姓名" v-model="user.name"
                                class="form-control" :class="classes">
                            <span class="invalid-feedback"> {{ errors[0] }}唷 </span>
                            </div>
                            </validation-provider>

                            <validation-provider rules="required|email" v-slot="{ errors , classes }">
                            <div class="form-group mt-3">
                            <label class="mb-2 text-secondary" for="email">電子信箱 <span class="text-danger">*</span></label>
                            <input id="email" type="email" name="電子信箱" v-model="user.mail"
                                class="form-control" :class="classes">
                            <span class="invalid-feedback"> {{ errors[0] }}唷 </span>
                            </div>
                            </validation-provider>

                            <validation-provider rules="required|min:8" v-slot="{ errors , classes }">
                            <div class="form-group mt-3">
                            <label class="mb-2 text-secondary" for="tel">連絡電話 <span class="text-danger">*</span></label>
                            <input id="tel" maxlength="10" type="tel" name="連絡電話" v-model="user.tel"
                                class="form-control" :class="classes">
                            <span class="invalid-feedback"> {{ errors[0] }}唷 </span>
                            </div>
                            </validation-provider>

                            <validation-provider rules="required" v-slot="{ errors , classes }">
                            <div class="form-group">
                            <label class="mb-2 text-secondary" for="textArea">留言 <span class="text-danger">*</span></label>
                            <br>
                            <div>
                                <textarea name="留言" id="textArea" cols="30" rows="10"  style="width : 100%" v-model="user.message" :class="classes"></textarea>
                                <span class="invalid-feedback"> {{ errors[0] }}唷 </span>
                            </div>
                            </div>
                            </validation-provider>

                            <div class="d-flex justify-content-end">
                            <button type="submit" class="btn btn-primary btn-lg text-white" :disabled="invalid">送出</button>
                            </div>

                            </form>

                        </validation-observer>

                    </div>

                </div>

            </div>
        </section>

    </div>
</template>

<script>

import $ from 'jquery'

export default {
  data () {
    return {
      user: {
        name: '',
        mail: '',
        tel: '',
        message: ''
      },
      messageAreaDisabled: false
    }
  },
  methods: {
    openPage () {
      setTimeout(() => {
        $('.aboutTitle').addClass('fadeIn')
      }, 500)

      setTimeout(() => {
        $('.curtain').addClass('curtainShow')
      }, 5)
    },
    addAnimate () {
      const scrollPos = $(window).scrollTop()
      const windowHeight = $(window).height()

      $('.preFadein').each(function () {
        const itemPos = $(this).offset().top

        if ((scrollPos + windowHeight) > (itemPos + 100)) {
          $(this).addClass('fadeIn')
        }
      })

      $('.preFadeinTop').each(function () {
        const itemPos = $(this).offset().top

        if ((scrollPos + windowHeight) > (itemPos + 300)) {
          $(this).addClass('fadeIn')
        }
      })

      $('.preShake').each(function () {
        const itemPos = $(this).offset().top

        if ((scrollPos + windowHeight) > (itemPos + 150)) {
          $(this).addClass('shake')
        }
      })
    },
    sendMessage () {
      const vm = this

      vm.messageAreaDisabled = true

      alert('已收到您的訊息囉，我們會於上班時間儘速回覆您，謝謝。')
    }
  },
  created () {
    const vm = this
    vm.openPage()
    vm.$bus.$emit('getPathName')
    window.addEventListener('scroll', this.addAnimate)
  }
}
</script>
